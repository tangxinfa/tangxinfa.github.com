<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>thinkpad - 看看俺 – KanKanAn.com</title>
        <description>记我所思，忆我所为。</description>
        <link>http://blog.kankanan.com/tag/thinkpad.xml</link>
        <lastBuildDate>Thu, 17 Mar 2016 10:36:55 GMT</lastBuildDate>
        <docs>http://blogs.law.harvard.edu/tech/rss</docs>
        <image>
            <title>thinkpad - 看看俺 – KanKanAn.com</title>
            <url>http://blog.kankanan.com/static/favicon.ico</url>
            <link>http://blog.kankanan.com/tag/thinkpad.xml</link>
        </image>
        <copyright>版权所有 © 2011-2015 看看俺 – KanKanAn.com</copyright>
        <generator>Feed for Node.js</generator>
        <category>技术</category>
        <item>
            <title><![CDATA[Thinkpad T540p 安装 Archlinux]]></title>
            <link>/article/thinkpad-t540p-5b8988c5-archlinux.html</link>
            <guid>/article/thinkpad-t540p-5b8988c5-archlinux.html</guid>
            <pubDate>Thu, 17 Mar 2016 10:09:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>
如果你是重新安装 Archlinux 则建议在安装前记录一下现有系统的软件列表，方便装完新系统后继续安装需要的软件
</p>

<div class="org-src-container">

<pre class="src src-sh">pacman -Qqe | grep -vx <span style="color: #8abeb7;">"$(</span><span style="color: #b294bb;">pacman</span><span style="color: #8abeb7;"> -Qqm)"</span> &gt; Packages
pacman -Qqm &gt; Packages.aur
</pre>
</div>

<p>
参考
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/index.php/migrate_installation_to_new_hardware">Migrate installation to new hardware - ArchWiki</a>
</li>
</ul>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">下载 ISO</h2>
<div class="outline-text-2" id="text-1">
<p>
从 <a href="https://www.archlinux.org">Archlinux 官网</a> 下载最新的安装包 <a href="https://www.archlinux.org/download/">archlinux-2016.03.01-dual.iso</a>
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">创建安装盘</h2>
<div class="outline-text-2" id="text-2">
<p>
通过 dd 将 ISO 写入 U 盘创建安装盘。
</p>

<p>
参考
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/index.php/USB_flash_installation_media_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)#GNU.2FLinux">USB flash installation media (简体中文) - ArchWiki</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">BIOS 启用 UEFI</h2>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">开始安装</h2>
<div class="outline-text-2" id="text-4">
<p>
按照 <a href="https://wiki.archlinux.org/index.php/Beginners'_guide">Beginners' guide - ArchWiki</a> 一步步安装到 <a href="https://wiki.archlinux.org/index.php/Beginners'_guide#Initramfs">Initramfs</a> ，分区分案选 <a href="https://wiki.archlinux.org/index.php/Beginners'_guide#UEFI.2FGPT_examples">UEFI/GPT</a>。
</p>

<p>
<a href="https://wiki.archlinux.org/index.php/Beginners'_guide#Install_a_boot_loader">Install a boot loader</a> 这一步改成 <a href="#sec-5">使用 UEFI 做为启动管理器</a> 。
</p>


<p>
针对固态硬盘的优化建议
</p>

<ul class="org-ul">
<li>格式化 ext4 分区时添加选项 4K 对齐

<div class="org-src-container">

<pre class="src src-sh">mkfs.ext4 -b 4096 /dev/sdXX
</pre>
</div>
</li>

<li>挂载 ext4 分区时添加选项 discard,noatime

<div class="org-src-container">

<pre class="src src-sh">mount -t ext4 /dev/sdXX /mnt -o discard,noatime
</pre>
</div>

<p>
noatime 读取文件的时候不修改读取的时间，减少对 ssd 的写入次数
discard 启动 trim
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">使用 UEFI 做为启动管理器</h2>
<div class="outline-text-2" id="text-5">
<p>
由于主板直接支持 UEFI 启动，使用 efibootmgr 来创建 Boot Loader 不但更简单，而且系统启动更快。
</p>

<p>
参考
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/index.php/EFISTUB#Using_UEFI_directly_.28efibootmgr.29">EFISTUB - Using UEFI directly (efibootmgr) - ArchWiki</a>
</li>

<li><a href="http://superuser.com/questions/912417/i-wanted-to-install-arch-linux-on-a-uefi-gpt-system-and-had-questions-about-the/912435#912435">I wanted to install arch linux on a UEFI/GPT system and had questions about the process - Super User</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">开通 sudo 权限组</h2>
<div class="outline-text-2" id="text-6">
<p>
运行 sudoedit，修改如下
</p>

<pre class="example">
## Uncomment to allow members of group wheel to execute any command
%wheel ALL=(ALL) ALL
</pre>

<dl class="org-dl">
<dt> wheel </dt><dd>为 sudo 权限组   
</dd>
</dl>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">创建个人帐号</h2>
<div class="outline-text-2" id="text-7">
<p>
加入 sudo 权限组
</p>

<div class="org-src-container">

<pre class="src src-sh">useradd tangxinfa -m -G wheel -p
</pre>
</div>

<dl class="org-dl">
<dt> tangxinfa </dt><dd>为个人帐号名称，请自行修改
</dd>

<dt> wheel </dt><dd>为 sudo 权限组
</dd>
</dl>


<p>
接下来的操作可以切到个人帐号了。
</p>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">安装 gnome 桌面</h2>
<div class="outline-text-2" id="text-8">
<div class="org-src-container">

<pre class="src src-sh">sudo pacman -S gnome gnome-extra gdm
sudo systemctl enable gdm
sudo systemctl -f enable graphical.target
sudo systemctl enable NetworkManager
</pre>
</div>

<p>
参考
</p>

<ul class="org-ul">
<li><a href="https://wiki.archlinux.org/index.php/GNOME_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">GNOME (简体中文) - ArchWiki</a>
</li>

<li><a href="https://wiki.archlinux.org/index.php/GDM_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">GDM (简体中文) - ArchWiki</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">安装 fcitx 输入法</h2>
<div class="outline-text-2" id="text-9">
<p>
参考
</p>

<ul class="org-ul">
<li><a href="http://blog.kankanan.com/article/archlinux-4e0b5b8988c5-fcitx-8f9351656cd5.html">Archlinux下安装fcitx输入法 | 看看俺 – KanKanAn.com</a>
</li>

<li><a href="https://wiki.archlinux.org/index.php/Fcitx">Fcitx - ArchWiki</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">触摸板</h2>
<div class="outline-text-2" id="text-10">
<div class="org-src-container">

<pre class="src src-sh">yaourt -S xf86-input-synaptics
</pre>
</div>

<ul class="org-ul">
<li>触摸板区域调优

<p>
<a href="http://blog.kankanan.com/article/thinkpad-t540p-4fee590d-linux-4e0b89e66478677f63094e0b65f6514968074f4d7f6e79fb52a895ee9898.html">Thinkpad T540p修复linux下触摸板按下时光标位置移动问题 | 看看俺 – KanKanAn.com</a>
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">定制 gnome3</h2>
<div class="outline-text-2" id="text-11">
<p>
安装扩展
</p>

<ul class="org-ul">
<li>程序托盘图标回到屏幕右上角

<p>
<a href="https://extensions.gnome.org/extension/495/topicons/">TopIcons</a>
</p>
</li>

<li>窗口标题栏融入活动栏

<p>
<a href="https://extensions.gnome.org/extension/723/pixel-saver/">Pixel Saver</a>
</p>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">避免启动后总是静音</h2>
<div class="outline-text-2" id="text-12">
<p>
安装 alsa-utils，保存音量设置。</p>
</div>
</div>
]]></content:encoded>
        </item>
        <item>
            <title><![CDATA[Thinkpad T540p修复linux下触摸板按下时光标位置移动问题]]></title>
            <link>/article/thinkpad-t540p-4fee590d-linux-4e0b89e66478677f63094e0b65f6514968074f4d7f6e79fb52a895ee9898.html</link>
            <guid>/article/thinkpad-t540p-4fee590d-linux-4e0b89e66478677f63094e0b65f6514968074f4d7f6e79fb52a895ee9898.html</guid>
            <pubDate>Mon, 22 Sep 2014 06:29:00 GMT</pubDate>
            <content:encoded><![CDATA[<ul class="org-ul">
<li>执行以下设置命令即可

<div class="org-src-container">

<pre class="src src-sh">synclient <span style="color: #f0c674;">HorizHysteresis</span>=30 <span style="color: #f0c674;">VertHysteresis</span>=30
</pre>
</div>

<p>
将上面的命令放到~/.xprofile中，以便重启后仍然生效。
</p>
</li>
</ul>

<p>
参考：<a href="https://blog.lnx.cx/2014/03/20/fedora-20-and-the-thinkpad-t440s-touchpad/">Fedora 20 and the ThinkPad T440s touchpad | Technitribe</a></p>
]]></content:encoded>
        </item>
    </channel>
</rss>