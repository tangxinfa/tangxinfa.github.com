<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>看看俺 - KanKanAn.com</title>
  <link href="http://blog.kankanan.comindex.xml" rel="self" />
  <link href="http://blog.kankanan.com"/>
  <updated>2013-04-09T12:00:00Z</updated>
  <id>http://blog.kankanan.comindex.xml</id>
  <entry><title type="html">FlashCache多盘方案实战</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/04/29_flashcache591a76d865b968485b9e6218.html"/><updated>2015-04-29T17:38:00Z</updated><published>2015-04-29T17:38:00Z</published><id>posts/2015/04/29_flashcache591a76d865b968485b9e6218.html</id><category scheme="/tags/linux.html" term="linux" label="linux"/><category scheme="/tags/flashcache.html" term="flashcache" label="flashcache"/><category scheme="/tags/raid.html" term="RAID" label="RAID"/><content type="html">&lt;p&gt;
&#30446;&#26631;&#31995;&#32479;&#20026;&#21333;SSD+&#22810;HDD&#65292;&#23558;&#22810;HDD&#21019;&#24314;&#20026;RAID5&#36923;&#36753;&#30424;&#65292;&#28982;&#21518;&#20351;&#29992;FlashCache&#23558;SSD&#20570;&#20026;RAID5&#36923;&#36753;&#30424;&#30340;&#32531;&#23384;&#12290;
&lt;/p&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;&#31995;&#32479;&#20449;&#24687;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;OS

&lt;p&gt;
CentOS release 6.5 (Final) x86_64
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;CPU

&lt;p&gt;
8
&lt;/p&gt;

&lt;p&gt;
Intel(R) Atom(TM) CPU  C2750  @ 2.40GHz
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;MEMORY

&lt;p&gt;
4
&lt;/p&gt;

&lt;p&gt;
TOTAL 16G
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;HDD

&lt;p&gt;
4
&lt;/p&gt;

&lt;p&gt;
WDC WD4000FYYZ-0 4TB 7200&#36716;
&lt;/p&gt;

&lt;p&gt;
/dev/sdc /dev/sdd /dev/sde /dev/sdf
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;SSD

&lt;p&gt;
1
&lt;/p&gt;

&lt;p&gt;
INTEL SSDSC2BB30 300GB
&lt;/p&gt;

&lt;p&gt;
/dev/sdb
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;&#21368;&#36733;HDD&#21450;SSD&#30424;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;umount /dev/sdc /dev/sdd /dev/sde /dev/sdf /dev/sdb
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#30830;&#20445;&#31995;&#32479;&#37325;&#21551;&#21518;&#19981;&#20250;&#33258;&#21160;&#25346;&#36733;&#23558;&#36825;&#20123;&#30424;&#12290;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;&#23558;&#22810;HDD&#21019;&#24314;&#20026;RAID5&#36923;&#36753;&#30424;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&#26684;&#24335;&#21270;HDD&#30424;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;gparted /dev/sdc
(parted) mklabel gpt
(parted) unit TB
(parted) mkpart primary 0.00TB 4.00TB
(parted) print
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#20854;&#23427;HDD&#30424;&#20063;&#20570;&#22914;&#19978;&#22788;&#29702;.
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#21019;&#24314;RAID5&#36923;&#36753;&#20998;&#21306;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;mdadm --create /dev/md0 --level=raid5 --raid-devices=4 /dev/sd[c-f]1
parted /dev/md0
(parted) mklabel gpt
(parted) unit TB
(parted) mkpart primary 0.00TB 12.00TB
(parted) print
(parted) quit
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-4" class="outline-2"&gt;
&lt;h2 id="sec-4"&gt;&#23433;&#35013;Flashcache&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-4"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;wget https://github.com/facebook/flashcache/archive/stable_v3.1.3.zip -O flashcache_stable_v3.1.3.zip
unzip flashcache_stable_v3.1.3.zip
&lt;span style="color: #729fcf;"&gt;cd&lt;/span&gt; flashcache-stable_v3.1.3
make
make install
modprobe flashcache
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-5" class="outline-2"&gt;
&lt;h2 id="sec-5"&gt;&#21019;&#24314;Flashcache&#28151;&#21512;&#35774;&#22791;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-5"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;flashcache_create -p around cachedev /dev/sdb /dev/md0p1
mkfs.ext4 /dev/mapper/cachedev
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-6" class="outline-2"&gt;
&lt;h2 id="sec-6"&gt;&#25346;&#36733;Flashcache&#28151;&#21512;&#35774;&#22791;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-6"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;mkdir /data
mount /dev/mapper/cachedev /data
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-7" class="outline-2"&gt;
&lt;h2 id="sec-7"&gt;&#20889;&#20837;&#36895;&#24230;&#27979;&#35797;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-7"&gt;
&lt;p&gt;
&#24490;&#29615;&#21019;&#24314;60MiB&#22823;&#23567;&#30340;&#25991;&#20214;&#65292;&#27979;&#24471;&#30340;&#30913;&#30424;&#20889;&#20837;&#36895;&#24230;&#20026; &lt;b&gt;35.6MiB&lt;/b&gt; &#65292;&#30913;&#30424;&#35835;&#21462;&#36895;&#24230;&#20026; &lt;b&gt;2.1MiB&lt;/b&gt; &#12290;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-8" class="outline-2"&gt;
&lt;h2 id="sec-8"&gt;&#35835;&#21462;&#36895;&#24230;&#27979;&#35797;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-8"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;500&#24182;&#21457;120G&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;32KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
2107
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
132.35MiB/s
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;500&#24182;&#21457;500G&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;32KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
1937
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
61.09MiB
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;500&#24182;&#21457;1T&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;32KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
1574
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
49.64MiB/s
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;500&#24182;&#21457;120G&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;64KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
5006
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
157.88MiB/s
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;500&#24182;&#21457;500G&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;64KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
897
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
56.37MiB/s
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;500&#24182;&#21457;1T&#25991;&#20214;&#27599;&#27425;&#35835;&#21462;64KB&#39034;&#24207;&#35835;&#21462;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#35831;&#27714;&#22788;&#29702;&#36895;&#24230;

&lt;p&gt;
782
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#20256;&#36755;&#36895;&#24230;

&lt;p&gt;
49.10MiB/s
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-9" class="outline-2"&gt;
&lt;h2 id="sec-9"&gt;&#27880;&#24847;&#20107;&#39033;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-9"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&#37325;&#24314;&#65288;rebuild&#65289;

&lt;p&gt;
&#24403;&#19968;&#22359;&#30424;&#22351;&#25481;&#21518;&#65292;&#22914;&#26524;&#37197;&#32622;&#20102;&#28909;&#22791;&#30424;&#65288;Hot spare disk&#65289;&#65292;&#20250;&#33258;&#21160;&#37325;&#24314;&#65292;&#35831;&#23558;&#22351;&#30424;&#25442;&#25481;&#24182;&#37197;&#32622;&#25104;&#28909;&#22791;&#30424;&#65307;\
&#22914;&#26524;&#26410;&#37197;&#32622;&#28909;&#22791;&#30424;&#65292;&#35835;&#24615;&#33021;&#20250;&#19979;&#38477;&#65288;&#22351;&#30424;&#20013;&#30340;&#25968;&#25454;&#38656;&#35201;&#20840;&#37096;&#36890;&#36807;&#35745;&#31639;&#37325;&#29616;&#65289;&#65292;&#35831;&#23558;&#22351;&#30424;&#25442;&#25481;&#31995;&#32479;&#20250;&#33258;&#21160;&#36827;&#34892;&#37325;&#24314;&#12290;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-10" class="outline-2"&gt;
&lt;h2 id="sec-10"&gt;&#28508;&#22312;&#30340;&#20248;&#21270;&#36873;&#39033;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-10"&gt;
&lt;ul class="org-ul"&gt;
&lt;li&gt;&#24320;&#21551;&#20889;Cache
&lt;/li&gt;

&lt;li&gt;&#31105;&#29992;&#25991;&#20214;&#12289;&#30446;&#24405;&#35775;&#38382;&#26102;&#38388;&#25139;

&lt;p&gt;
noatime,nodiratime
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-11" class="outline-2"&gt;
&lt;h2 id="sec-11"&gt;&#30456;&#20851;&#21442;&#32771;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-11"&gt;
&lt;dl class="org-dl"&gt;
&lt;dt&gt; &#12298;&lt;a href="http://lzw.me/a/linux-lvm.html"&gt;Linux LVM&#36923;&#36753;&#21367;&#31649;&#29702;&#35814;&#32454;&#20171;&#32461;&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;&#38750;&#24120;&#22909;&#30340;LVM&#20837;&#38376;&#25991;&#31456;
&lt;/dd&gt;

&lt;dt&gt; &#12298;&lt;a href="http://www.linux-mag.com/id/7582/"&gt;Pick Your Pleasure: RAID-0 mdadm Striping or LVM Striping?&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;LVM&#19982;RAID-0&#30340;&#27604;&#36739;
&lt;/dd&gt;

&lt;dt&gt; &#12298;&lt;a href="http://www.tecmint.com/create-raid0-in-linux/"&gt;Creating Software RAID0 (Stripe) on &#8216;Two Devices&#8217; Using &#8216;mdadm&#8217; Tool in Linux &#8211; Part 2&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;&#26500;&#24314;RAID-0&#25945;&#31243;
&lt;/dd&gt;

&lt;dt&gt; &#12298;&lt;a href="http://zengrong.net/post/2014.htm"&gt;&#22312;CentOS 6.1&#19978;&#37197;&#32622; 4TB&#30828;&#30424;+RAID1&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;&#20351;&#29992; &lt;code&gt;parted&lt;/code&gt; &#20195;&#26367; &lt;code&gt;fdisk&lt;/code&gt; &#23545;&#22823;&#20110;2TB&#30340;&#30828;&#30424;&#36827;&#34892;&#20998;&#21306;
&lt;/dd&gt;

&lt;dt&gt; &#12298;&lt;a href="http://wiki.mikejung.biz/Software_RAID"&gt;Software RAID - How to Optimize Software RAID on Linux using Mdadm&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;&#20248;&#21270;RAID
&lt;/dd&gt;

&lt;dt&gt; &#12298;&lt;a href="http://sysadmin.blog.51cto.com/83876/236802"&gt;RAID5&#21333;&#30424;&#25925;&#38556;&#35835;&#20889;&#20998;&#26512;&lt;/a&gt;&#12299; &lt;/dt&gt;&lt;dd&gt;RAID5&#19968;&#22359;&#30424;&#22351;&#25481;&#21518;&#30340;&#24773;&#24418;&#20998;&#26512;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
</content></entry><entry><title type="html">在Archlinux上使用FlashCache</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/04/23_5728archlinux4e0a4f7f7528flashcache.html"/><updated>2015-04-23T20:16:00Z</updated><published>2015-04-23T20:16:00Z</published><id>posts/2015/04/23_5728archlinux4e0a4f7f7528flashcache.html</id><category scheme="/tags/archlinux.html" term="archlinux" label="archlinux"/><category scheme="/tags/flashcache.html" term="flashcache" label="flashcache"/><content type="html">&lt;p&gt;
&lt;a href="https://github.com/facebook/flashcache/"&gt;Flashcache&lt;/a&gt; &#26159; &lt;a href="https://www.facebook.com"&gt;Facebook&lt;/a&gt; &#30340;&#19968;&#20010;&#24320;&#28304;&#39033;&#30446;&#65292;&#36890;&#36807;&#23558;&#22266;&#24577;&#30828;&#30424;&#65288;SSD&#65289;&#20570;&#20026;&#26426;&#26800;&#30828;&#30424;&#65288;HDD&#65289;&#30340;&#32531;&#23384;&#23618;&#65292;&#25552;&#21319;&#30913;&#30424;I/O&#24615;&#33021;&#12290;
&lt;/p&gt;

&lt;p&gt;
&lt;a href="https://github.com/facebook/flashcache/"&gt;Flashcache&lt;/a&gt; &#20301;&#20110;&#30913;&#30424;&#39537;&#21160;&#23618;&#19982;&#25991;&#20214;&#31995;&#32479;&#23618;&#20043;&#38388;&#65292;&#26159;&#19968;&#20010; &lt;code&gt;linux&lt;/code&gt; &#20869;&#26680;&#27169;&#22359;&#12290;
&lt;/p&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;&#32534;&#35793;&#23433;&#35013;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;p&gt;
&#30001;&#20110;Archlinux&#24635;&#26159;&#20351;&#29992;&#26368;&#26032;&#30340;linux&#20869;&#26680;&#65292;&#26368;&#22909;&#20174;&#26368;&#26032;&#30340; &lt;a href="https://github.com/facebook/flashcache/"&gt;Flashcache&lt;/a&gt; &#28304;&#20195;&#30721;&#36827;&#34892;&#32534;&#35793;&#23433;&#35013;&#12290;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;git clone https://github.com/facebook/flashcache.git
&lt;span style="color: #729fcf;"&gt;cd&lt;/span&gt; flashcache
make
sudo make install
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;&#25346;&#36733;&#27169;&#22359;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo insmod /lib/modules/3.19.3-3-ARCH/extra/flashcache/flashcache.ko
&lt;/pre&gt;
&lt;/div&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#20462;&#22797;&#25346;&#36733;&#38169;&#35823;

&lt;blockquote&gt;
&lt;p&gt;
insmod: ERROR: could not insert module /lib/modules/3.19.3-3-ARCH/extra/flashcache/flashcache.ko: Unknown symbol in module
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;
&#36890;&#36807; &lt;code&gt;dmesg | grep flashcache&lt;/code&gt; &#21487;&#20197;&#30475;&#21040;&#20197;&#19979;&#38169;&#35823;&#20449;&#24687;&#65306;
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;
[ 2130.514615] flashcache: Unknown symbol dm_put_device (err 0)&lt;br  /&gt;
       [ 2130.514654] flashcache: Unknown symbol dm_io_client_create (err 0)&lt;br  /&gt;
       [ 2130.514693] flashcache: Unknown symbol dm_kcopyd_client_create (err 0)&lt;br  /&gt;
       [ 2130.514738] flashcache: Unknown symbol dm_unregister_target (err 0)&lt;br  /&gt;
       [ 2130.514774] flashcache: Unknown symbol dm_io_client_destroy (err 0)&lt;br  /&gt;
       [ 2130.514798] flashcache: Unknown symbol dm_kcopyd_copy (err 0)&lt;br  /&gt;
       [ 2130.514821] flashcache: Unknown symbol dm_register_target (err 0)&lt;br  /&gt;
       [ 2130.514846] flashcache: Unknown symbol dm_kcopyd_client_destroy (err 0)&lt;br  /&gt;
       [ 2130.514870] flashcache: Unknown symbol dm_table_get_mode (err 0)&lt;br  /&gt;
       [ 2130.514895] flashcache: Unknown symbol dm_io (err 0)&lt;br  /&gt;
       [ 2130.514915] flashcache: Unknown symbol dm_get_device (err 0)
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;
&#20808;&#25346;&#36733; &lt;code&gt;dm-mod&lt;/code&gt; &#27169;&#22359;&#20877;&#25346;&#36733; &lt;code&gt;flashcache&lt;/code&gt; &#27169;&#22359;&#21363;&#21487;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo modprobe dm-mod
sudo insmod /lib/modules/3.19.3-3-ARCH/extra/flashcache/flashcache.ko
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#21442;&#32771;&#65306;&lt;a href="https://bbs.archlinux.org/viewtopic.php?id=30478"&gt;No entry for device-mapper found&lt;/a&gt;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;&#27169;&#25311;&#23454;&#39564;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
&#21442;&#32771;&#65306;&lt;a href="http://my.oschina.net/renguijiayi/blog/303747"&gt;flashcache&#30340;&#23454;&#29616;&#19982;&#29992;&#27861;&lt;/a&gt;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#21019;&#24314;SSD&#27169;&#25311;&#35774;&#22791;

&lt;p&gt;
&#20351;&#29992;&#20869;&#23384;&#25991;&#20214;&#27169;&#25311;&#22359;&#35774;&#22791;&#65288;1G&#65289;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;dd &lt;span style="color: #eeeeec;"&gt;if&lt;/span&gt;=/dev/zero &lt;span style="color: #eeeeec;"&gt;of&lt;/span&gt;=/dev/shm/ssd.img &lt;span style="color: #eeeeec;"&gt;bs&lt;/span&gt;=1024k &lt;span style="color: #eeeeec;"&gt;count&lt;/span&gt;=1024
sudo losetup /dev/loop1 /dev/shm/ssd.img
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#21019;&#24314;HDD&#27169;&#25311;&#35774;&#22791;

&lt;p&gt;
&#20351;&#29992;&#26222;&#36890;&#30913;&#30424;&#25991;&#20214;&#27169;&#25311;&#22359;&#35774;&#22791;&#65288;5G&#65289;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo dd &lt;span style="color: #eeeeec;"&gt;if&lt;/span&gt;=/dev/zero &lt;span style="color: #eeeeec;"&gt;of&lt;/span&gt;=/hdd.img &lt;span style="color: #eeeeec;"&gt;bs&lt;/span&gt;=1024k &lt;span style="color: #eeeeec;"&gt;count&lt;/span&gt;=5120
sudo losetup /dev/loop2 /hdd.img
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#21019;&#24314;Flashcache&#28151;&#21512;&#35774;&#22791;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo flashcache_create -p around cachedev /dev/loop1 /dev/loop2
sudo mkfs.ext4 /dev/mapper/cachedev
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#25346;&#36733;Flashcache&#28151;&#21512;&#35774;&#22791;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo mkdir /data
sudo mount /dev/mapper/cachedev /data
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
/data&#30446;&#24405;&#19979;&#30340;&#25968;&#25454;&#35835;&#20889;&#23601;&#24050;&#32463;&#22312;&#20351;&#29992;Flashcache&#20102;&#12290;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#21019;&#24314;&#29992;&#26469;&#27979;&#35797;&#30340;&#25968;&#25454;&#25991;&#20214;&#65288;1G&#65289;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;dd &lt;span style="color: #eeeeec;"&gt;if&lt;/span&gt;=/dev/urandom &lt;span style="color: #eeeeec;"&gt;of&lt;/span&gt;=/dev/shm/test.dat &lt;span style="color: #eeeeec;"&gt;bs&lt;/span&gt;=1024k &lt;span style="color: #eeeeec;"&gt;count&lt;/span&gt;=1024
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#27979;&#31639;&#20351;&#29992;HDD&#20889;&#32791;&#26102;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo sh -c &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'echo 1 &amp;gt; /proc/sys/vm/drop_caches; time cp /dev/shm/test.dat /'&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#36755;&#20986;&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
real    0m4.751s
user    0m0.000s
sys 0m0.600s
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;&#27979;&#31639;&#20351;&#29992;HDD&#35835;&#32791;&#26102;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo sh -c &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'echo 1 &amp;gt; /proc/sys/vm/drop_caches; time cp /test.dat /dev/shm/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#36755;&#20986;&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
real    0m10.580s
user    0m0.010s
sys 0m0.727s
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;&#27979;&#31639;&#20351;&#29992;Flashcache&#20889;&#32791;&#26102;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo sh -c &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'echo 1 &amp;gt; /proc/sys/vm/drop_caches; time cp /dev/shm/test.dat /data/'&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#36755;&#20986;&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
real    0m7.363s
user    0m0.000s
sys 0m0.760s
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;&#27979;&#31639;&#20351;&#29992;Flashcache&#35835;&#32791;&#26102;

&lt;p&gt;
&#31532;&#19968;&#36718;&#27979;&#35797;&#65288;&#32531;&#23384;&#39044;&#28909;&#65289;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo sh -c &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'echo 1 &amp;gt; /proc/sys/vm/drop_caches; time cp /data/test.dat /dev/shm/'&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#36755;&#20986;&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
real    0m9.557s
user    0m0.013s
sys 0m1.157s
&lt;/pre&gt;

&lt;p&gt;
&#31532;&#20108;&#36718;&#27979;&#35797;&#65288;&#32531;&#23384;&#29983;&#25928;&#65289;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo sh -c &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'echo 1 &amp;gt; /proc/sys/vm/drop_caches; time cp /data/test.dat /dev/shm/'&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#36755;&#20986;&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
real    0m3.107s
user    0m0.000s
sys 0m0.850s
&lt;/pre&gt;
&lt;/li&gt;

&lt;li&gt;&#28165;&#38500;&#27979;&#35797;&#25968;&#25454;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo rm /test.dat /dev/shm/test.dat /data/test.dat
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#32467;&#26524;&#20998;&#26512;

&lt;ul class="org-ul"&gt;
&lt;li&gt;Flashcache&#35835;&#24615;&#33021;&#65306; &lt;b&gt;&#25552;&#21319;70%&lt;/b&gt;
&lt;/li&gt;

&lt;li&gt;Flashcache&#20889;&#24615;&#33021;&#65306; &lt;b&gt;&#38477;&#20302;55%&lt;/b&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
&#22240;&#20026;&#20351;&#29992;&#20102; &lt;code&gt;Write-Around&lt;/code&gt; &#26041;&#24335;&#65292;&#25152;&#20197;&#25552;&#21319;&#20102;&#35835;&#24615;&#33021;&#65292;&#38477;&#20302;&#20102;&#20889;&#24615;&#33021;&#12290;
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#28165;&#38500;&#27169;&#25311;&#29615;&#22659;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo umount /data
sudo dmsetup remove cachedev
sudo losetup -d /dev/loop1
sudo rm /dev/shm/ssd.img
sudo losetup -d /dev/loop2
sudo rm /hdd.img
sudo rmdir /data
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
</content></entry><entry><title type="html">linux下通过HTTP同步系统时间</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/04/21_linux4e0b901a8fc7http540c6b657cfb7edf65f695f4.html"/><updated>2015-04-21T11:54:00Z</updated><published>2015-04-21T11:54:00Z</published><id>posts/2015/04/21_linux4e0b901a8fc7http540c6b657cfb7edf65f695f4.html</id><category scheme="/tags/linux.html" term="linux" label="linux"/><content type="html">&lt;p&gt;
&#22312; &lt;code&gt;NTP&lt;/code&gt; &#34987;&#31105;&#29992;&#30340;&#32593;&#32476;&#29615;&#22659;&#19979;&#65292;&#21487;&#20197;&#36890;&#36807; &lt;code&gt;HTTP&lt;/code&gt; &#21327;&#35758;&#20174;&#20844;&#24320;&#30340;&#32593;&#31449;&#65288;&#22914;&#65306;www.baidu.com&#65289;&#21516;&#27493;&#26102;&#38388;&#65292;&#22240;&#20026;HTTP&#21709;&#24212;&#36890;&#24120;&#20250;&#24102;&#19968;&#20010;Date&#23383;&#27573;&#65292;&#36825;&#26159;WEB&#26381;&#21153;&#22120;&#30340;&#31995;&#32479;&#26102;&#38388;&#65292;&#21487;&#20197;&#29992;&#23427;&#26469;&#35774;&#32622;&#26412;&#26426;&#26102;&#38388;&#12290;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo date --rfc-2822 -s &lt;span style="color: #ad7fa8; font-style: italic;"&gt;"`curl -s -i -X HEAD --header "Connection: close" http://www.baidu.com | grep -E '^Date: ' | awk -F ': ' '{print $2}'`"&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
</content></entry><entry><title type="html">Node.js服务器TCP死连接问题诊断</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/04/16_node2ejs670d52a15668tcp6b7b8fde63a595ee98988bca65ad.html"/><updated>2015-04-16T20:29:00Z</updated><published>2015-04-16T20:29:00Z</published><id>posts/2015/04/16_node2ejs670d52a15668tcp6b7b8fde63a595ee98988bca65ad.html</id><category scheme="/tags/node.html" term="node" label="node"/><category scheme="/tags/network.html" term="network" label="network"/><content type="html">&lt;p&gt;
&#26368;&#36817;&#19968;&#27573;&#26102;&#38388;&#65292;&#30001;&#20110;&#24320;&#21457;&#24037;&#20316;&#24320;&#22987;&#36319;&#23884;&#20837;&#24335;&#30456;&#20851;&#65292;&#24320;&#22987;&#36935;&#21040;&#19968;&#20010;&#38382;&#39064;&#65306;TCP&#27515;&#36830;&#25509;&#12290;
&lt;/p&gt;

&lt;p&gt;
TCP&#27515;&#36830;&#25509;&#30151;&#29366;&#26159;&#36825;&#26679;&#30340;&#65306;&#36890;&#20449;&#21452;&#26041;&#20174;&#19968;&#26041;&#31995;&#32479;&#19978;&#30475;&#24050;&#32463;&#26029;&#24320;&#65288;&#19981;&#23384;&#22312;&#65289;&#65292;&#20294;&#26159;&#21478;&#19968;&#26041;&#31995;&#32479;&#19978;&#30475;&#21364;&#26159;&#36830;&#25509;&#20013;&#65288;ESTABLISHED&#29366;&#24577;&#65289;&#12290;
&lt;/p&gt;

&lt;p&gt;
TCP&#27515;&#36830;&#25509;&#19968;&#33324;&#22312;&#19968;&#26041;&#65288;&#25110;&#20013;&#38388;&#32447;&#36335;&#19978;&#30340;&#35774;&#22791;&#65289;&#26029;&#30005;&#12289;&#27515;&#26426;&#21518;&#20986;&#29616;&#65292;&#27492;&#26102;&#30001;&#20110;&#21478;&#19968;&#26041;&#25910;&#19981;&#21040;&#26029;&#24320;&#36830;&#25509;&#30340;IP&#25253;&#25991;&#65292;&#20250;&#35748;&#20026;&#36830;&#25509;&#20173;&#28982;&#23384;&#22312;&#65292;&#26085;&#31215;&#26376;&#32047;&#20250;&#32791;&#20809;&#25991;&#20214;&#25551;&#36848;&#31526;&#31354;&#38388;&#20174;&#32780;&#23548;&#33268;&#24615;&#33021;&#19979;&#38477;&#65292;&#26368;&#32456;&#25298;&#32477;&#26381;&#21153;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#23545;&#20184;&#36825;&#31181;&#38382;&#39064;&#65292;&#19968;&#33324;&#38656;&#35201;&#21452;&#26041;&#37117;&#36827;&#34892;&#36830;&#25509;&#24515;&#36339;&#26816;&#27979;&#12290;&#27604;&#22914;&#65306;&#36830;&#25509;&#31354;&#38386;&#19968;&#27573;&#26102;&#38388;&#21518;&#19968;&#26041;&#21457;&#19968;&#20010;&#24515;&#36339;&#35831;&#27714;&#65292;&#21478;&#19968;&#31471;&#22238;&#20010;&#24515;&#36339;&#21709;&#24212;&#65292;&#24515;&#36339;&#35831;&#27714;&#21457;&#36865;&#26041;&#19968;&#27573;&#26102;&#38388;&#21518;&#36824;&#25910;&#19981;&#21040;&#21709;&#24212;&#21017;&#35748;&#20026;&#36830;&#25509;&#24050;&#26029;&#24320;&#65292;&#24515;&#36339;&#35831;&#27714;&#25509;&#25910;&#26041;&#19968;&#27573;&#26102;&#38388;&#20869;&#27809;&#26377;&#25910;&#21040;&#24515;&#36339;&#35831;&#27714;&#20063;&#35748;&#20026;&#36830;&#25509;&#24050;&#26029;&#24320;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#38656;&#35201;&#27880;&#24847;&#21040;&#30340;&#26159;node.js&#30340;tls&#26381;&#21153;&#22120;&#31471;&#25569;&#25163;&#36229;&#26102;&#22788;&#29702;&#19981;&#24403;&#21487;&#33021;&#20250;&#23548;&#33268;TCP&#27515;&#36830;&#25509;&#20986;&#29616;&#65292;&#26377;&#38382;&#39064;&#30340;&#20195;&#30721;&#31034;&#20363;&#22914;&#19979;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;var&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;options&lt;/span&gt; = {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   key: &lt;span style="color: #ad7fa8; font-style: italic;"&gt;"..."&lt;/span&gt;,
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   cert: &lt;span style="color: #ad7fa8; font-style: italic;"&gt;"..."&lt;/span&gt;,
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   handshakeTimeout: 10*1000,
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   plain: &lt;span style="color: #8ae234;"&gt;true&lt;/span&gt;,
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   ssl: &lt;span style="color: #8ae234;"&gt;true&lt;/span&gt;
};

&lt;span style="color: #729fcf; font-weight: bold;"&gt;var&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;tlsServer&lt;/span&gt; = tls.createServer(options, app).listen(5433, 8192, &lt;span style="color: #729fcf; font-weight: bold;"&gt;function&lt;/span&gt;(){
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   logger.log(&lt;span style="color: #ad7fa8; font-style: italic;"&gt;'tls server listening on port 5433'&lt;/span&gt;);
});

tlsServer.on(&lt;span style="color: #ad7fa8; font-style: italic;"&gt;'clientError'&lt;/span&gt;, &lt;span style="color: #729fcf; font-weight: bold;"&gt;function&lt;/span&gt; (&lt;span style="color: #eeeeec;"&gt;exception&lt;/span&gt;, &lt;span style="color: #eeeeec;"&gt;socket&lt;/span&gt;) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   logger.warn(&lt;span style="color: #ad7fa8; font-style: italic;"&gt;'tls server client('&lt;/span&gt; + socket.remoteAddress + &lt;span style="color: #ad7fa8; font-style: italic;"&gt;':'&lt;/span&gt; + socket.remotePort +&lt;span style="color: #ad7fa8; font-style: italic;"&gt;') error('&lt;/span&gt; + exception + &lt;span style="color: #ad7fa8; font-style: italic;"&gt;')'&lt;/span&gt;);
});
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#19978;&#38754;&#30340;&#20195;&#30721;&#36890;&#36807;&#25351;&#23450; &lt;code&gt;handshakeTimeout&lt;/code&gt; &#20351;&#29992;&#25351;&#23450;SSL&#25569;&#25163;&#36229;&#26102;&#26102;&#38388;&#65292;&#20294;&#26159;&#24182;&#26410;&#20851;&#38381;&#24213;&#23618;&#30340;TCP&#36830;&#25509;&#65292;&#20174;&#32780;&#23548;&#33268;TCP&#36830;&#25509;&#27844;&#38706;&#65292;&#22312; &lt;code&gt;clientError&lt;/code&gt; &#20107;&#20214;&#22788;&#29702;&#20989;&#25968;&#20013;&#28155;&#21152;&#20197;&#19979;&#37322;&#25918;&#35821;&#21477;&#21363;&#21487;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;socket.destroy();
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#38500;&#20102;&#24120;&#35265;&#30340;&#26029;&#30005;&#12289;&#27515;&#26426;&#24341;&#36215;TCP&#27515;&#36830;&#25509;&#22806;&#65292;&#36825;&#37324;&#36824;&#26377;&#19968;&#20010;&#35770;&#22363;&#24086;&#23376;&#35770;&#22363;&#20854;&#23427;&#21407;&#22240;&#65306;&#12298;&lt;a href="http://serverfault.com/questions/504187/too-many-established-connections-left-open"&gt;Too many established connections left open&lt;/a&gt;&#12299;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#21478;&#22806;&#36824;&#26377; linux &#20869;&#26680;&#30340; tcp keepalive&#26426;&#21046;&#20316;&#20026;&#24515;&#36339;&#35299;&#20915;&#26041;&#26696;&#65306;&#12298;&lt;a href="http://machael.blog.51cto.com/829462/211989/"&gt;linux&#19979;&#20351;&#29992;TCP&#23384;&#27963;(keepalive)&#23450;&#26102;&#22120;&lt;/a&gt;&#12299;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#35880;&#35760;&#65306;&#38500;&#20102;&#20027;&#21160;&#36890;&#36807;&#36830;&#25509;&#21457;&#36865;&#25968;&#25454;&#22806;&#65292;&#20854;&#23427;&#24773;&#20917;&#19979;&#25805;&#20316;&#31995;&#32479;&#21487;&#33021;&#19981;&#20250;&#21578;&#35785;&#20320;&#36830;&#25509;&#24050;&#32463;&#20851;&#38381;&#20102;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#35201;&#24443;&#24213;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#65292;&#38500;&#20102;&#35201;&#36991;&#20813;&#27844;&#38706;&#65288;&#25110;&#24536;&#35760;&#20851;&#38381;&#65289;TCP&#36830;&#25509;&#22806;&#65292;&#35201;&#26377;&#24515;&#36339;&#26426;&#21046;&#65292;&#36824;&#38656;&#35201;&#20174;&#20195;&#30721;&#23618;&#38754;&#36827;&#34892;&#38450;&#24481;&#24615;&#32534;&#31243;&#65292;&#22914;&#65306;&#23545;&#20110;&#35835;&#20889;&#25805;&#20316;&#35774;&#32622;&#36229;&#26102;&#26102;&#38388;&#65292;&#19968;&#26086;&#36229;&#26102;&#20027;&#21160;&#20851;&#38381;&#36830;&#25509;&#12290;&lt;/p&gt;
</content></entry><entry><title type="html">Archlinux安装文本语音合成（TTS）</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/04/15_archlinux5b8988c56587672c8bed97f354086210ff08ttsff09.html"/><updated>2015-04-15T20:21:00Z</updated><published>2015-04-15T20:21:00Z</published><id>posts/2015/04/15_archlinux5b8988c56587672c8bed97f354086210ff08ttsff09.html</id><category scheme="/tags/archlinux.html" term="archlinux" label="archlinux"/><category scheme="/tags/tts.html" term="tts" label="tts"/><content type="html">

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;&#23433;&#35013; &lt;code&gt;festival&lt;/code&gt;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;yaourt -S festival festival-english festival-us
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;&#27979;&#35797;&#36816;&#34892;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;&lt;span style="color: #729fcf;"&gt;echo&lt;/span&gt; &lt;span style="color: #ad7fa8; font-style: italic;"&gt;"This is an example. Arch is the best."&lt;/span&gt; | festival --tts
&lt;/pre&gt;
&lt;/div&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#20462;&#22797;&#38169;&#35823; &lt;code&gt;Linux: can't open /dev/dsp&lt;/code&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
&#21442;&#32771; &lt;a href="https://wiki.archlinux.org/index.php/Festival#Can.27t_open_.2Fdev.2Fdsp"&gt;&#36825;&#37324;&lt;/a&gt; &#23558;&#20197;&#19979;&#20869;&#23481;&#28155;&#21152;&#21040; &lt;code&gt;~/.festivalrc&lt;/code&gt;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-lisp"&gt;(Parameter.set 'Audio_Method 'Audio_Command)
(Parameter.set 'Audio_Command &lt;span style="color: #ad7fa8; font-style: italic;"&gt;"aplay -q -c 1 -t raw -f s16 -r $SR $FILE"&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;&#21442;&#32771;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;p&gt;
&lt;a href="https://wiki.archlinux.org/index.php/Festival"&gt;https://wiki.archlinux.org/index.php/Festival&lt;/a&gt;
&lt;/p&gt;

&lt;p&gt;
&lt;a href="https://linuxtoy.org/archives/festival_on_ubuntu.html"&gt;https://linuxtoy.org/archives/festival_on_ubuntu.html&lt;/a&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content></entry><entry><title type="html">SSL_read及SSL_write支持超时</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2015/01/27_ssl5fread53cassl5fwrite652f63018d8565f6.html"/><updated>2015-01-27T14:29:00Z</updated><published>2015-01-27T14:29:00Z</published><id>posts/2015/01/27_ssl5fread53cassl5fwrite652f63018d8565f6.html</id><category scheme="/tags/openssl.html" term="openssl" label="openssl"/><category scheme="/tags/c.html" term="c" label="c"/><content type="html">&lt;ul class="org-ul"&gt;
&lt;li&gt;&#22312;&#24213;&#23618;socket&#19978;&#35774;&#32622;&#36229;&#26102;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-c"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;struct&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;timeval&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;tv&lt;/span&gt;;
tv.tv_sec  = 10;
tv.tv_usec = 0;
setsockopt(sock, SOL_SOCKET, SO_SNDTIMEO, (&lt;span style="color: #8ae234; font-weight: bold;"&gt;char&lt;/span&gt;*)&amp;amp;tv, &lt;span style="color: #729fcf; font-weight: bold;"&gt;sizeof&lt;/span&gt;(&lt;span style="color: #729fcf; font-weight: bold;"&gt;struct&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;timeval&lt;/span&gt;));
setsockopt(sock, SOL_SOCKET, SO_RCVTIMEO, (&lt;span style="color: #8ae234; font-weight: bold;"&gt;char&lt;/span&gt;*)&amp;amp;tv, &lt;span style="color: #729fcf; font-weight: bold;"&gt;sizeof&lt;/span&gt;(&lt;span style="color: #729fcf; font-weight: bold;"&gt;struct&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;timeval&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#21551;&#29992;&#33258;&#21160;&#37325;&#26032;&#25569;&#25163;

&lt;p&gt;
&lt;code&gt;SSL_read&lt;/code&gt; &#25110; &lt;code&gt;SSL_write&lt;/code&gt; &#21487;&#33021;&#22240;&#20026;SSL&#38656;&#35201;&#37325;&#26032;&#25569;&#25163;&#32780;&#25552;&#21069;&#36820;&#22238;&#65288;&#27492;&#26102;SSL&#38169;&#35823;&#30721;&#20026; &lt;code&gt;SSL_ERROR_WANT_READ&lt;/code&gt; &#25110; &lt;code&gt;SSL_ERROR_WANT_WRITE&lt;/code&gt; &#65289;&#65292;&#20063;&#21487;&#33021;&#22240;&#19978;&#38754;&#30340;socket&#36229;&#26102;&#35774;&#32622;&#32780;&#25552;&#21069;&#36820;&#22238;&#65292;&#36890;&#36807;&#21551;&#29992;&#33258;&#21160;&#37325;&#26032;&#25569;&#25163;&#65292;&#28040;&#38500;&#31532;&#19968;&#31181;&#24773;&#20917;&#12290;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-c"&gt;SSL_CTX_set_mode(ctx, SSL_MODE_AUTO_RETRY);
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&lt;code&gt;SSL_read&lt;/code&gt; &#21644; &lt;code&gt;SSL_write&lt;/code&gt; &#21028;&#26029;&#26159;&#21542;&#36229;&#26102;&#20986;&#38169;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-c"&gt;&lt;span style="color: #8ae234; font-weight: bold;"&gt;int&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;readed&lt;/span&gt; = SSL_read(ssl, data, size);
&lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; (readed &amp;lt;= 0) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; (SSL_get_error(ssl, readed) == SSL_ERROR_WANT_READ) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #888a85;"&gt;// &lt;/span&gt;&lt;span style="color: #888a85;"&gt;timeout&lt;/span&gt;
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   } &lt;span style="color: #729fcf; font-weight: bold;"&gt;else&lt;/span&gt; {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #888a85;"&gt;// &lt;/span&gt;&lt;span style="color: #888a85;"&gt;error&lt;/span&gt;
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   }
}

&lt;span style="color: #8ae234; font-weight: bold;"&gt;int&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;writed&lt;/span&gt; = SSL_write(ssl, data, size);
&lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; (writed &amp;lt;= 0) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; (SSL_get_error(ssl, writed) == SSL_ERROR_WANT_WRITE) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #888a85;"&gt;// &lt;/span&gt;&lt;span style="color: #888a85;"&gt;timeout&lt;/span&gt;
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   } &lt;span style="color: #729fcf; font-weight: bold;"&gt;else&lt;/span&gt; {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #888a85;"&gt;// &lt;/span&gt;&lt;span style="color: #888a85;"&gt;error&lt;/span&gt;
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   }
}
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title type="html">理解node.js中的Error对象</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2014/12/09_740689e3node2ejs4e2d7684error5bf98c61.html"/><updated>2014-12-09T13:38:00Z</updated><published>2014-12-09T13:38:00Z</published><id>posts/2014/12/09_740689e3node2ejs4e2d7684error5bf98c61.html</id><category scheme="/tags/node.html" term="node" label="node"/><content type="html">&lt;p&gt;
Error&#23545;&#35937;&#22312; &lt;a href="http://nodejs.org"&gt;node.js&lt;/a&gt; &#31243;&#24207;&#20013;&#26080;&#22788;&#19981;&#22312;&#65292;&#20294;&#26159;&#20851;&#20110;&#23427;&#22312; &lt;a href="http://nodejs.org/docs/latest/api/all.html"&gt;node.js&#25991;&#26723;&lt;/a&gt; &#65288;&#20889;&#36825;&#31687;&#25991;&#31456;&#26102;node.js&#30340;&#26368;&#26032;&#29256;&#26412;&#20026;v0.10.33&#65289;&#20013;&#21364;&#25214;&#19981;&#21040;&#25551;&#36848;&#36164;&#26009;&#65292;&#21482;&#22312;&#20197;&#19979;&#37096;&#20998;&#25552;&#21450;&#65306;
&lt;/p&gt;

&lt;dl class="org-dl"&gt;
&lt;dt&gt; &lt;a href="http://nodejs.org/docs/latest/api/all.html#all_util_iserror_object"&gt;util.isError(object)&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;&#21028;&#26029;&#23545;&#35937;&#26159;&#21542;&#20026;Error&#23545;&#35937;.
&lt;/dd&gt;

&lt;dt&gt; &lt;a href="http://nodejs.org/docs/latest/api/all.html#all_additions_to_error_objects"&gt;Domain: Additions to Error objects&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;&#22312;Error&#23545;&#35937;&#19978;&#38468;&#21152;&#39069;&#22806;&#30340;&#23383;&#27573;.
&lt;/dd&gt;
&lt;/dl&gt;

&lt;div id="outline-container-sec-1" class="outline-2"&gt;
&lt;h2 id="sec-1"&gt;Error&#21040;&#24213;&#26159;&#20309;&#26041;&#31070;&#22307;&#65311;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-1"&gt;
&lt;p&gt;
Error&#23545;&#35937;&#26159;&#22312;ECMAScript 5.1&#65288;&#20110;2011&#24180;7&#26376;&#21457;&#24067;&#65289;&#20013; &lt;a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.11"&gt;&#23450;&#20041;&lt;/a&gt; &#30340;&#65292;&#26159;&#19968;&#20010;&#27604;&#36739;&#26032;&#30340;&#29305;&#24615;&#65306;
&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;
Instances of Error objects are thrown as exceptions when runtime errors occur. The Error objects may also serve as base objects for user-defined exception classes.
&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;
&#23427;&#21482;&#26377;&#20004;&#20010;&#23646;&#24615;&#65306;
&lt;/p&gt;

&lt;dl class="org-dl"&gt;
&lt;dt&gt; name &lt;/dt&gt;&lt;dd&gt;&#38169;&#35823;&#21517;&#31216;&#65292;&#40664;&#35748;&#20026;"Error"
&lt;/dd&gt;

&lt;dt&gt; message &lt;/dt&gt;&lt;dd&gt;&#38169;&#35823;&#28040;&#24687;&#65292;&#40664;&#35748;&#20026;""
&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;
V8&#23454;&#29616;&#20102;&#19968;&#20010;&#25193;&#23637;&#23646;&#24615;&#65306;
&lt;/p&gt;

&lt;dl class="org-dl"&gt;
&lt;dt&gt; stack &lt;/dt&gt;&lt;dd&gt;&#38169;&#35823;&#25551;&#36848;&#21450;&#35843;&#29992;&#22534;&#26632; 
&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;
&#23427;&#21482;&#26377;&#19968;&#20010;&#26041;&#27861;&#65306;
&lt;/p&gt;

&lt;dl class="org-dl"&gt;
&lt;dt&gt; toString &lt;/dt&gt;&lt;dd&gt;&#36716;&#25104;&#23383;&#31526;&#20018;&#24418;&#24335;&#65292;&#36890;&#24120;&#20026; "name: message"
&lt;/dd&gt;
&lt;/dl&gt;

&lt;p&gt;
&#26500;&#36896;&#19968;&#20010;Error&#23454;&#20363;&#65306;
&lt;/p&gt;

&lt;p&gt;
new Error(message) &#25110;&#32773; Error(message)&#65292;&#20004;&#32773;&#26159;&#19968;&#26679;&#30340;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#31034;&#20363;&#65306;&#26174;&#31034;&#38169;&#35823;&#28040;&#24687;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;console.log(err);
console.log(err.toString());
console.log(err.message);
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#38656;&#35201;&#27880;&#24847;&#30340;&#26159;console.log(JSON.stringify(err))&#26174;&#31034;&#30340;&#26159;&#31354;&#23545;&#35937;{}.
&lt;/p&gt;

&lt;p&gt;
&#31034;&#20363;&#65306;&#26174;&#31034;&#38169;&#35823;&#28040;&#24687;&#21450;&#35843;&#29992;&#22534;&#26632;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;console.log(err.stack);
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#31034;&#20363;&#65306;&#26174;&#31034;&#38169;&#35823;&#21517;&#31216;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;console.log(err.name);
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-2" class="outline-2"&gt;
&lt;h2 id="sec-2"&gt;&#22914;&#20309;&#33258;&#23450;&#20041;Error&#31867;&#22411;&#65311;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-2"&gt;
&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;function&lt;/span&gt; &lt;span style="color: #edd400; font-weight: bold; font-style: italic;"&gt;MyError&lt;/span&gt;(&lt;span style="color: #eeeeec;"&gt;message&lt;/span&gt;) {
  &lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;.message = message || &lt;span style="color: #ad7fa8; font-style: italic;"&gt;''&lt;/span&gt;;
}

MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt; = &lt;span style="color: #729fcf; font-weight: bold;"&gt;new&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;Error&lt;/span&gt;();
MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt;.constructor = MyError;
MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt;.name = &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'MyError'&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
Error&#23454;&#20363;&#31867;&#22411;&#21028;&#26029;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;var&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;err&lt;/span&gt; = &lt;span style="color: #729fcf; font-weight: bold;"&gt;new&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;Error&lt;/span&gt;(&lt;span style="color: #ad7fa8; font-style: italic;"&gt;"this is error"&lt;/span&gt;);
&lt;span style="color: #729fcf; font-weight: bold;"&gt;var&lt;/span&gt; &lt;span style="color: #eeeeec;"&gt;myerr&lt;/span&gt; = &lt;span style="color: #729fcf; font-weight: bold;"&gt;new&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;MyError&lt;/span&gt;(&lt;span style="color: #ad7fa8; font-style: italic;"&gt;"this is my error"&lt;/span&gt;);
err &lt;span style="color: #729fcf; font-weight: bold;"&gt;instanceof&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;Error&lt;/span&gt; &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;true*/&lt;/span&gt;
err &lt;span style="color: #729fcf; font-weight: bold;"&gt;instanceof&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;MyError&lt;/span&gt; &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;false*/&lt;/span&gt;
myerr &lt;span style="color: #729fcf; font-weight: bold;"&gt;instanceof&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;MyError&lt;/span&gt; &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;true*/&lt;/span&gt;
myerr &lt;span style="color: #729fcf; font-weight: bold;"&gt;instanceof&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;Error&lt;/span&gt; &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;true*/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
stack&#36755;&#20986;&#26377;&#38382;&#39064;&#65306;&#33258;&#23450;&#20041;&#30340;&#38169;&#35823;&#25551;&#36848;&#27809;&#20102;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;err.stack &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;'Error: this is error\n    at repl:1:11 ...*/&lt;/span&gt;
myerr.stack &lt;span style="color: #888a85;"&gt;/*&lt;/span&gt;&lt;span style="color: #888a85;"&gt;'MyError\n    at repl:1:21 ...*/&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#20462;&#22797;node.js&#19979;MyError&#30340;stack&#19981;&#27491;&#30830;&#30340;&#38382;&#39064;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;function&lt;/span&gt; &lt;span style="color: #edd400; font-weight: bold; font-style: italic;"&gt;MyError&lt;/span&gt;(&lt;span style="color: #eeeeec;"&gt;message&lt;/span&gt;) {
  Error.captureStackTrace(&lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;, &lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;.constructor)
  &lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;.message = message || &lt;span style="color: #ad7fa8; font-style: italic;"&gt;''&lt;/span&gt;;
}

MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt; = &lt;span style="color: #729fcf; font-weight: bold;"&gt;new&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;Error&lt;/span&gt;();
MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt;.constructor = MyError;
MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt;.name = &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'MyError'&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&lt;b&gt;&#26368;&#32456;&#29256;&#65306;&#26356;node.js&#21270;&#19968;&#20123;&lt;/b&gt;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-js"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;function&lt;/span&gt; &lt;span style="color: #edd400; font-weight: bold; font-style: italic;"&gt;MyError&lt;/span&gt;(&lt;span style="color: #eeeeec;"&gt;message&lt;/span&gt;) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; (!(&lt;span style="color: #8ae234;"&gt;this&lt;/span&gt; &lt;span style="color: #729fcf; font-weight: bold;"&gt;instanceof&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;MyError&lt;/span&gt;)) {
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #729fcf; font-weight: bold;"&gt;return&lt;/span&gt; &lt;span style="color: #729fcf; font-weight: bold;"&gt;new&lt;/span&gt; &lt;span style="color: #8ae234; font-weight: bold;"&gt;MyError&lt;/span&gt;(message);
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   }
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   Error.captureStackTrace(&lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;, &lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;.constructor)
&lt;span style="background-color: #404040;"&gt; &lt;/span&gt;   &lt;span style="color: #8ae234;"&gt;this&lt;/span&gt;.message = message || &lt;span style="color: #ad7fa8; font-style: italic;"&gt;''&lt;/span&gt;;
}

util.inherits(MyError, Error)
MyError.&lt;span style="color: #8ae234;"&gt;prototype&lt;/span&gt;.name = &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'MyError'&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-sec-3" class="outline-2"&gt;
&lt;h2 id="sec-3"&gt;&#21442;&#32771;&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-3"&gt;
&lt;dl class="org-dl"&gt;
&lt;dt&gt; &lt;a href="https://docs.nodejitsu.com/articles/errors/what-is-the-error-object"&gt;What is the error object?&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;&#23545;Error&#23545;&#35937;&#30340;&#25104;&#21592;&#26377;&#25152;&#25552;&#21450;&#65292;&#20294;&#19982;&#24403;&#21069;&#30340;node.js&#29256;&#26412;&#19981;&#19968;&#33268;&#12290;
&lt;/dd&gt;

&lt;dt&gt; &lt;a href="https://cnodejs.org/topic/52090bc944e76d216af25f6f"&gt;Node.js&#19979;&#33258;&#23450;&#20041;&#38169;&#35823;&#31867;&#22411;&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;&#25945;&#20320;&#22914;&#20309;&#33258;&#23450;&#20041;&#38169;&#35823;&#31867;&#22411;&#12290;
&lt;/dd&gt;

&lt;dt&gt; &lt;a href="http://stackoverflow.com/questions/10624873/what-properties-does-nodejs-expresss-error-object-exposes"&gt;What properties does nodejs express's Error object exposes?&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;&#35752;&#35770;Error&#23545;&#35937;&#30456;&#20851;&#23646;&#24615;
&lt;/dd&gt;

&lt;dt&gt; &lt;a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error"&gt;MDN &amp;gt; Web technology for developers &amp;gt; JavaScript &amp;gt; JavaScript reference &amp;gt; Standard built-in objects &amp;gt; Error&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;Error&#23545;&#35937;&#21442;&#32771;&#25991;&#26723;
&lt;/dd&gt;

&lt;dt&gt; &lt;a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.11"&gt;Error Objects&lt;/a&gt; &lt;/dt&gt;&lt;dd&gt;Error&#23545;&#35937;&#26631;&#20934;&#25991;&#26723;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;/div&gt;
</content></entry><entry><title type="html">在linux使用nfs挂载其它linux机器上的文件夹</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2014/09/23_5728linux4f7f7528nfs63028f7d51765b83linux673a56684e0a768465874ef65939.html"/><updated>2014-09-23T16:52:00Z</updated><published>2014-09-23T16:52:00Z</published><id>posts/2014/09/23_5728linux4f7f7528nfs63028f7d51765b83linux673a56684e0a768465874ef65939.html</id><category scheme="/tags/linux.html" term="linux" label="linux"/><category scheme="/tags/nfs.html" term="nfs" label="nfs"/><content type="html">&lt;p&gt;
&#19979;&#38754;&#30340;IP&#22320;&#22336;&#20197;&#21450;&#24037;&#20316;&#30446;&#24405;&#38656;&#25353;&#23454;&#38469;&#24773;&#20917;&#36827;&#34892;&#20462;&#25913;&#12290;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#22312;&#26412;&#22320;&#26426;&#22120;&#19978;&#20801;&#35768;&#30446;&#24405;&#34987;&#36828;&#31243;&#25346;&#36733;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;&lt;span style="color: #729fcf;"&gt;echo&lt;/span&gt; &lt;span style="color: #ad7fa8; font-style: italic;"&gt;'/home/tangxinfa/workdir *(rw,sync,no_root_squash)'&lt;/span&gt; &amp;gt;&amp;gt; /etc/exports
sudo exportfs -arv
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#22312;&#36828;&#31243;&#26426;&#22120;&#19978;&#25346;&#36733;&#26412;&#22320;&#26426;&#22120;&#19978;&#30340;&#25991;&#20214;&#22841;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;mkdir /tmp/Projects; mount -t nfs -o nolock 192.168.111.100:/home/tangxinfa/Projects /tmp/Projects
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
&#38382;&#39064;&#35786;&#26029;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;mount: RPC: Unable to receive; errno = Connection refused

&lt;p&gt;
&#38656;&#35201;&#21551;&#21160;nfs-server&#26381;&#21153;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;sudo systemctl enable nfs-server.service
sudo systemctl start nfs-server.service
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#21478;&#22806;&#65292;&#22914;&#26524;&#21018;&#21018;&#20570;&#20102;linux&#20869;&#26680;&#26356;&#26032;&#32780;&#27809;&#26377;&#37325;&#21551;&#31995;&#32479;&#20063;&#21487;&#33021;&#23548;&#33268;&#36825;&#20010;&#38382;&#39064;&#65292;&#37325;&#21551;&#19968;&#19979;&#20877;&#35797;&#12290;
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;mount: 192.168.111.100:/home/tangxinfa/Projects failed, reason given by server: Permission denied

&lt;p&gt;
&#22312;/etc/exports&#25991;&#20214;&#20013;&#20801;&#35768;&#30446;&#24405;&#34987;&#36828;&#31243;&#25346;&#36733;&#21363;&#21487;&#12290;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content></entry><entry><title type="html">Thinkpad T540p修复linux下触摸板按下时光标位置移动问题</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2014/09/22_thinkpad-t540p4fee590dlinux4e0b89e66478677f63094e0b65f6514968074f4d7f6e79fb52a895ee9898.html"/><updated>2014-09-22T14:29:00Z</updated><published>2014-09-22T14:29:00Z</published><id>posts/2014/09/22_thinkpad-t540p4fee590dlinux4e0b89e66478677f63094e0b65f6514968074f4d7f6e79fb52a895ee9898.html</id><category scheme="/tags/linux.html" term="linux" label="linux"/><category scheme="/tags/thinkpad.html" term="thinkpad" label="thinkpad"/><content type="html">&lt;ul class="org-ul"&gt;
&lt;li&gt;&#25191;&#34892;&#20197;&#19979;&#35774;&#32622;&#21629;&#20196;&#21363;&#21487;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;synclient &lt;span style="color: #eeeeec;"&gt;HorizHysteresis&lt;/span&gt;=30 &lt;span style="color: #eeeeec;"&gt;VertHysteresis&lt;/span&gt;=30
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#23558;&#19978;&#38754;&#30340;&#21629;&#20196;&#25918;&#21040;~/.xprofile&#20013;&#65292;&#20197;&#20415;&#37325;&#21551;&#21518;&#20173;&#28982;&#29983;&#25928;&#12290;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;
&#21442;&#32771;&#65306;&lt;a href="https://blog.lnx.cx/2014/03/20/fedora-20-and-the-thinkpad-t440s-touchpad/"&gt;Fedora 20 and the ThinkPad T440s touchpad | Technitribe&lt;/a&gt;
&lt;/p&gt;
</content></entry><entry><title type="html">linux下修改键位映射</title><author><name>nil</name></author><link href="http://blog.kankanan.com/posts/2014/09/19_linux4e0b4fee6539952e4f4d66205c04.html"/><updated>2014-09-19T14:07:00Z</updated><published>2014-09-19T14:07:00Z</published><id>posts/2014/09/19_linux4e0b4fee6539952e4f4d66205c04.html</id><category scheme="/tags/linux.html" term="linux" label="linux"/><category scheme="/tags/keyboard.html" term="keyboard" label="keyboard"/><content type="html">&lt;p&gt;
&#22312;linux&#19979;&#20250;&#22823;&#37327;&#20351;&#29992;ctrl&#21644;alt&#38190;&#65292;&#20294;&#26159;&#26222;&#36890;&#38190;&#30424;&#19978;&#36825;&#20004;&#20010;&#38190;&#25152;&#22312;&#20301;&#32622;&#22826;&#20559;&#65292;&#25353;&#36215;&#26469;&#38750;&#24120;&#21507;&#21147;&#65292;&#20132;&#25442;&#38190;&#20301;&#21487;&#20197;&#24456;&#22909;&#30340;&#35299;&#20915;&#36825;&#20010;&#38382;&#39064;&#12290;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&#36890;&#36807;gnome-tweak-tool&#36827;&#34892;&#20462;&#25913;

&lt;p&gt;
Typing&#39029;&#21487;&#20197;&#23436;&#25104;&#24120;&#29992;&#30340;&#20462;&#25913;&#65292;&#22914;&#65306;&#20132;&#25442;Caps Lock&#21644;Ctrl&#65292;&#20132;&#25442;&#24038;Ctrl&#21644;Alt&#12290;&#20294;&#26159;&#22312;&#25105;&#30340;&#31508;&#35760;&#26412;&#19978;&#35774;&#32622;&#22909;&#21518;&#26377;&#26102;&#20505;&#20250;&#22833;&#25928;.
&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;&#36890;&#36807;setxkbmap&#21629;&#20196;&#36827;&#34892;&#20462;&#25913;

&lt;p&gt;
Caps Lock&#25913;&#20026;Ctrl&#65306;setxkbmap -option ctrl:nocaps
&lt;/p&gt;

&lt;p&gt;
&#21487;&#20197;&#26597;&#30475;/usr/share/X11/xkb/rules/evdev.lst&#26597;&#30475;&#25903;&#25345;&#30340;&#20132;&#25442;&#26041;&#24335;&#12290;Ctrl&#21644;Alt&#20132;&#25442;&#35797;&#20102;&#19968;&#19979;&#27809;&#26377;&#25928;&#26524;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#23558;setxkbmap&#35774;&#32622;&#21629;&#20196;&#25918;&#21040;~/.xprofile&#20013;&#21363;&#21487;&#24320;&#26426;&#29983;&#25928;&#12290;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class="org-ul"&gt;
&lt;li&gt;&#36890;&#36807;&#37197;&#32622;~/.Xmodmap&#36827;&#34892;&#20462;&#25913;

&lt;p&gt;
&#21487;&#20197;&#23436;&#25104;&#20219;&#24847;&#30340;&#38190;&#30424;&#26144;&#23556;&#12290;
&lt;/p&gt;

&lt;p&gt;
&#22914;&#19979;&#25152;&#31034;&#65306;Caps Lock&#25913;&#20026;Ctrl&#65292;&#24038;Ctrl&#25913;&#20026;Alt&#65306;
&lt;/p&gt;

&lt;pre class="example"&gt;
keycode 66 = Control_L
clear Lock
add control = Control_L

clear control
clear mod1
keycode 37 = Alt_L Meta_L
add control = Control_L Control_R
add mod1 = Alt_L Meta_L
&lt;/pre&gt;

&lt;p&gt;
&#21551;&#29992;&#35774;&#32622;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;xmodmap ~/.Xmodmap
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#22312;~/.xprofile&#20013;&#28155;&#21152;&#20197;&#19978;&#25351;&#20196;&#20197;&#20415;&#24320;&#26426;&#29983;&#25928;&#65306;
&lt;/p&gt;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;&lt;span style="color: #729fcf; font-weight: bold;"&gt;if&lt;/span&gt; [ -f $&lt;span style="color: #eeeeec;"&gt;HOME&lt;/span&gt;/.Xmodmap ]; &lt;span style="color: #729fcf; font-weight: bold;"&gt;then&lt;/span&gt;
    /usr/bin/xmodmap $&lt;span style="color: #eeeeec;"&gt;HOME&lt;/span&gt;/.Xmodmap
&lt;span style="color: #729fcf; font-weight: bold;"&gt;fi&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;
&#21442;&#32771;&#65306;
&lt;/p&gt;

&lt;ul class="org-ul"&gt;
&lt;li&gt;&lt;a href="http://earthviaradio.wordpress.com/2012/02/06/swapping-the-left-alt-and-ctrl-keys-in-ubuntu-11-10/"&gt;Swapping the left Alt and Ctrl keys in Ubuntu 11.10&lt;/a&gt;
&lt;/li&gt;

&lt;li&gt;&lt;a href="http://efod.se/writings/linuxbook/html/caps-lock-to-ctrl.html"&gt;Changing your caps lock into Ctrl in X&lt;/a&gt;
&lt;/li&gt;

&lt;li&gt;&lt;a href="https://wiki.archlinux.org/index.php/Xmodmap_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)"&gt;Xmodmap (&#31616;&#20307;&#20013;&#25991;)&lt;/a&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;&#28165;&#38500;xmodmap&#20197;&#21450;setxkbmap&#30340;&#37197;&#32622;

&lt;div class="org-src-container"&gt;

&lt;pre class="src src-sh"&gt;setxkbmap -layout us
&lt;/pre&gt;
&lt;/div&gt;
&lt;/li&gt;

&lt;li&gt;&#25442;hhkb pro2&#38190;&#30424;

&lt;p&gt;
linux&#29992;&#25143;&#24517;&#22791;&#65292;ctrl&#21644;alt&#38190;&#24050;&#32463;&#25918;&#32622;&#21040;&#26368;&#20248;&#20301;&#32622;&#65292;&#32780;&#19988;&#21518;&#38754;&#30340;&#36339;&#32447;&#24320;&#20851;&#25903;&#25345;&#24120;&#29992;&#30340;&#38190;&#20301;&#20132;&#25442;&#65292;&#21363;&#20351;&#26159;linux&#25991;&#26412;&#27169;&#24335;&#19979;&#20063;&#21487;&#29992;&#12290;
&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
</content></entry>
</feed>
